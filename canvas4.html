<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=us-ascii" />
<link rel="stylesheet" href="style.css" type="text/css" media="all" />
<script type="text/JavaScript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script></head>
<title>The KAME project</title>
</head>
<body>

<div class="center">
<canvas id="anime" width="124" height="100"></canvas>
<img id="gif" src="/img/kame-mosaic-small.gif"><br />
This is a MOSAIC version.<br />
If you migrate to IPv6 HTTP, you'll be able to view the NON-MOSAIC DANCING KAME!
</div>

<script type="text/JavaScript">
<!--
$(document).ready(function() {
  var canvas = document.getElementById('anime');
  if (! canvas || ! canvas.getContext) {
    return false;
  }
  $('img#gif').remove();
  var ctx;
  var img = new Array();
  var count = 0;
  var max = 17;
  ctx = canvas.getContext('2d');
  for (i = 0; i <= max; i++) {
    img[i] = new Image();
    img[i].src = "/img/anime/kame-mosaic-small-" + i + ".png";
  }
  // xxx: img[max] should not be the last session. other sessions may be delayed
  img[max].onload = function() {
    setInterval(function() {
      ctx.clearRect(0, 0, 124, 100)
      ctx.drawImage(img[count], 0, 0);
      count++;
      if (count > max) {
        count = 0;
      }
    }, 100);
  }
});
// -->
</script>

</body>
</html>
